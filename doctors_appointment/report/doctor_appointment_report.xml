<odoo>
    <data>
        <!-- QWeb Template -->

          <record model="ir.actions.report" id="report_doctor_daily_appointments_action">
        <field name="name">فاتورة القسط</field>
        <field name="model">appointment.report.wizard</field>
        <field name="report_type">qweb-pdf</field>
        <field name="print_report_name">'فاتورة - %s' % (object.name)</field>
        <field name="binding_type">report</field>
        <field name="report_name">doctors_appointment.report_doctor_daily_appointments_template</field>
        <field name="report_file">doctors_appointment.report_doctor_daily_appointments_template</field>

    </record>


        <template id="report_doctor_daily_appointments_template">
                <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <div class="page">

                    <h2>📅 تقرير مواعيد الدكتور: <t t-esc="data['doctor_name']"/></h2>
                    <p>📆 التاريخ: <t t-esc="data['selected_date']"/></p>

            <t t-set="appointments" t-value="data['appointments']"/>
                    <ul>
                        <t t-foreach="appointments" t-as="appt">
                            <li>
                                🧍 <strong>المريض:</strong> <t t-esc="appt.patient_id.name"/> |
                                ⏰ <strong>الساعة:</strong> <t t-esc="appt.appointment_date.strftime('%H:%M')"/>
                            </li>
                        </t>
                    </ul>

                    <t t-if="not appointments">
                        <p>لا توجد مواعيد محجوزة في هذا اليوم.</p>
                    </t>
                </div>
            </t>
            </t>
        </template>

        <!-- Report Declaration -->


    </data>
</odoo>
